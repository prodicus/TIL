LXI H, 5000
MOV C,M
DCR C
DO : MOV D,C
LXI H, 5001
B: MOV A,M
INX H
CMP M
JNC SKIP
MOV B,M
MOV M,A
DCX H
MOV M,B
INX H
SKIP: DCR D
JNZ B
DCR C
JNZ DO
HLT